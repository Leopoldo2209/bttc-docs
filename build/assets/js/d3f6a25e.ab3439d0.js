"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5640],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=s(a),m=r,h=u["".concat(p,".").concat(m)]||u[m]||d[m]||o;return a?n.createElement(h,l(l({ref:t},c),{},{components:a})):n.createElement(h,l({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var s=2;s<o;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},5499:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const o={},l="Delivery and Bttc Snapshots",i={unversionedId:"node/snapshot",id:"node/snapshot",title:"Delivery and Bttc Snapshots",description:"When setting up a new Sentry, Validator, or Full Node server, it is recommended you use a snapshot for faster syncing without having to sync over the network. Using snapshots will save you several days for both Delivery and BTTC.",source:"@site/docs/node/snapshot.md",sourceDirName:"node",slug:"/node/snapshot",permalink:"/docs/node/snapshot",draft:!1,editUrl:"https://github.com/bttcprotocol/bttc-docs/tree/master/docs/node/snapshot.md",tags:[],version:"current",lastUpdatedAt:1724138736,formattedLastUpdatedAt:"Aug 20, 2024",frontMatter:{},sidebar:"validatorSidebar",previous:{title:"Validator Node Deployment",permalink:"/docs/validator/build-validator-node"},next:{title:"Port Management",permalink:"/docs/validator/port_management"}},p={},s=[{value:"Preparation",id:"preparation",level:2},{value:"Download &amp;&amp; Uncompress",id:"download--uncompress",level:2},{value:"Replace Data",id:"replace-data",level:2}],c={toc:s};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"delivery-and-bttc-snapshots"},"Delivery and Bttc Snapshots"),(0,r.kt)("p",null,"When setting up a new Sentry, Validator, or Full Node server, it is recommended you use a snapshot for faster syncing without having to sync over the network. Using snapshots will save you several days for both Delivery and BTTC."),(0,r.kt)("p",null,"Please download the latest snapshot from ",(0,r.kt)("a",{parentName:"p",href:"https://snapshots.bt.io"},"here"),"."),(0,r.kt)("h2",{id:"preparation"},"Preparation"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Make sure your hardware meets the ",(0,r.kt)("a",{parentName:"li",href:"https://doc.bt.io/v1/doc/validator-node-system-requirements.html"},"suggested requirement"),"."),(0,r.kt)("li",{parentName:"ul"},"A disk with enough free storage, at least twice the size of the snapshot.")),(0,r.kt)("h2",{id:"download--uncompress"},"Download && Uncompress"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Delivery")),(0,r.kt)("p",null,"Download the snapshot to your machine. To download the Snapshot Tar file to your machine you can run the following command",(0,r.kt)("inlineCode",{parentName:"p"},"wget -c <Snapshot URL>"),"\uff0cFor example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget -c https://bttc-blockchain-snapshots.s3-accelerate.amazonaws.com/bttc-mainnet/2022_03_03/delivery-mainnet-snapshot-2022_03_03.tar.gz\n")),(0,r.kt)("p",null,"This will download the snapshot of Delivery."),(0,r.kt)("p",null,"Now, to unpack the Tar file in the current directory run the following command. You need to ensure that you\u2019re running this command before you start the Delivery service on your node. If your Delivery service has started, please stop and then run the below command:",(0,r.kt)("inlineCode",{parentName:"p"},"tar -xzvf <delivery snapshot file> -C <CURRENT_DIRECTORY>")," For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tar -xzvf delivery-mainnet-snapshot-2022_03_03.tar.gz ./\n")),(0,r.kt)("p",null,"When this command completes, you can delete the tar file to reclaim space."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"BTTC")),(0,r.kt)("p",null,"Download the Snapshot to your machine. To download the Snapshot Tar file to your machine you can run the following command",(0,r.kt)("inlineCode",{parentName:"p"},"wget -c <Snapshot URL>")," For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget -c https://bttc-blockchain-snapshots.s3-accelerate.amazonaws.com/bttc-mainnet/2022_03_03/bttc-mainnet-snapshot-2022_03_03.tar.gz\n")),(0,r.kt)("p",null,"Now, to unpack the Tar file in current directory run the following command. You need to ensure that you\u2019re running this command before you start the BTTC service on your node. If your BTTC service has started, please stop and then run the below command\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"tar -xzvf <bttc snapshot file> -C <CURRENT_DIRECTORY>")," For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tar -xzvf bttc-mainnet-snapshot-2022_03_03.tar.gz ./\n")),(0,r.kt)("p",null,"When this command completes, you can delete the tar file to reclaim space."),(0,r.kt)("h2",{id:"replace-data"},"Replace Data"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Delivery")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"First, stop the running delivery client if you have one by ",(0,r.kt)("inlineCode",{parentName:"li"},"kill {pid}"),", and make sure the client has shut down.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note\uff1aIf you already run the Delivery node for a few days,remember to backup the delivery database first.Otherwise,if you run the Delivery node from scratch,you can skip this step.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Backing up the original data:",(0,r.kt)("inlineCode",{parentName:"p"},"cp -r ${Delivery_DataDir}/data ${Delivery_DataDir}/data_backup")," For example:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"cp -r /root/.deliveryd/data /root/.deliveryd/data_backup\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Replace the data: ",(0,r.kt)("inlineCode",{parentName:"p"},"cp -r ./${delivery_snapshot_file} ${Delivery_DataDir}/")," For example:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"cp -r ./delivery_data/* /root/.deliveryd/data/\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Start the delivery client again and check the logs"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"BTTC")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"First, stop the running bttc client if you have one by ",(0,r.kt)("inlineCode",{parentName:"li"},"kill {pid}"),", and make sure the client has shut down.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"}," Note:If you already run the BTTC node for a few days,remember to backup the BTTC database first.Otherwise,if you run the BTTC node from scratch,you can skip this step.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Backing up the original data: ",(0,r.kt)("inlineCode",{parentName:"p"},"cp -r ${BTTC_DataDir}/data ${BTTC_DataDir}/data_backup")," For example:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"cp -r /root/.bttc/data/ /root/.bttc/data_backup\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Replace the data: ",(0,r.kt)("inlineCode",{parentName:"p"},"cp -r ./${bttc_snapshot_file} ${BTTC_DataDir}/;")," For example:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"cp -r ./bttc_data/* /root/.bttc/data/bor/\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Start the BTTC client again and check the logs"))))}d.isMDXComponent=!0}}]);