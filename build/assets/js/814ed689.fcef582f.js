"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4052],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=a.createContext({}),c=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(i.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),h=o,m=p["".concat(i,".").concat(h)]||p[h]||d[h]||r;return n?a.createElement(m,l(l({ref:t},u),{},{components:n})):a.createElement(m,l({ref:t},u))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=p;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var c=2;c<r;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},1314:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>u});var a=n(7462),o=(n(7294),n(3905)),r=n(4996);const l={},s="Wallet",i={unversionedId:"wallet",id:"wallet",title:"Wallet",description:"Wallets are used by the client to manage your dApp integration on BTTC. There are two main types of wallets used in the BTTC ecosystem:",source:"@site/docs/wallet.md",sourceDirName:".",slug:"/wallet",permalink:"/docs/wallet",draft:!1,editUrl:"https://github.com/bttcprotocol/bttc-docs/tree/master/docs/wallet.md",tags:[],version:"current",lastUpdatedAt:1724138736,formattedLastUpdatedAt:"Aug 20, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Quick Migration Guide for Ethereum DApp",permalink:"/docs/tutorial/quick-migration-guide-for-ethereum-dApp"},next:{title:"Network Details",permalink:"/docs/networks/network"}},c={},u=[{value:"TronLink",id:"tronlink",level:2},{value:"MetaMask",id:"metamask",level:2},{value:"Setting up BTTC on MetaMask",id:"setting-up-bttc-on-metamask",level:3},{value:"Setting up Custom Token",id:"setting-up-custom-token",level:3},{value:"Mutiple Accounts",id:"mutiple-accounts",level:3},{value:"Integration",id:"integration",level:3},{value:"Configure Web3",id:"configure-web3",level:4},{value:"Setup Accounts",id:"setup-accounts",level:4},{value:"Instantiate Contract",id:"instantiate-contract",level:4},{value:"Call Contract",id:"call-contract",level:4},{value:"Call the function call()",id:"call-the-function-call",level:5},{value:"Call the function send()",id:"call-the-function-send",level:5}],d={toc:u};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"wallet"},"Wallet"),(0,o.kt)("p",null,"Wallets are used by the client to manage your dApp integration on BTTC. There are two main types of wallets used in the BTTC ecosystem:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.tronlink.org/"},"TronLink")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://metamask.io/"},"MetaMask"))),(0,o.kt)("h2",{id:"tronlink"},"TronLink"),(0,o.kt)("p",null,"TronLink is the most feature-rich decentralized TRON wallet currently available. Sustain all of TRON's standard functions. TronLink supports testnets and custom networks via an open SDK. Simultaneously, TronLink receives support from the TRON core development team and connects seamlessly to the TRON mainnet."),(0,o.kt)("p",null,"Type: Unmanaged"),(0,o.kt)("p",null,"Private key storage: local"),(0,o.kt)("p",null,"Communication with TRON: TronGrid HTTP API"),(0,o.kt)("p",null,"To manage your assets on the TRON network, we recommend using TronLink. Please refer to the official TRON document regarding the integration of TronLink:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://developers.tron.network/docs/tronweb-1"},"TronWeb quickstart")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://developers.tron.network/docs/introduction"},"TronLink intergration"))),(0,o.kt)("h2",{id:"metamask"},"MetaMask"),(0,o.kt)("p",null,"MetaMask is a free and secure wallet that enables the interaction of web applications with multiple blockchains."),(0,o.kt)("p",null,"Please download the wallet from ",(0,o.kt)("a",{parentName:"p",href:"https://metamask.io"},"MetaMask")," and add its Chrome extension to your local Google Chrome before using it."),(0,o.kt)("p",null,"Following that, please create a new account in MetaMask. Please keep your password, private key, and mnemonic secure and do not share them with anyone."),(0,o.kt)("h3",{id:"setting-up-bttc-on-metamask"},"Setting up BTTC on MetaMask"),(0,o.kt)("p",null,"To view account fund activity on BTTC, you must configure the BTTC URL on MetaMask."),(0,o.kt)("p",null,"Please select custom RPC here to add BTTC's mainnet or testnet."),(0,o.kt)("img",{src:(0,r.Z)("img/wallet_1.png"),width:"50%"}),(0,o.kt)("p",null,"Please complete the form as shown in the figure below to correctly add the BTTC mainnet."),(0,o.kt)("h3",{id:"setting-up-custom-token"},"Setting up Custom Token"),(0,o.kt)("p",null,"The following sections detail how to configure custom tokens on MetaMask. This method can be used to add any custom ERC-20 tokens to MetaMask"),(0,o.kt)("p",null,"In MetaMask, click Add Token. The Token added here is the Ethereum Ropsten test network's Test Token. The address is 0x414C578d018afa9a4c9acf435a8C5fD042203901. The symbol is t. This token is only for demostration. After entering the token address, the following information will be automatically filled in, as illustrated in the figure:"),(0,o.kt)("img",{src:(0,r.Z)("img/wallet_2.png"),width:"50%"}),(0,o.kt)("p",null,"The token will be displayed in your MetaMask account once the addition is complete."),(0,o.kt)("p",null,"The procedure for adding BTTC tokens to MetaMask is essentially identical to that described above. Before adding: You only need to enter the correct BTTC URL in the custom RPC."),(0,o.kt)("h3",{id:"mutiple-accounts"},"Mutiple Accounts"),(0,o.kt)("p",null,"If this is your first time using MetaMask, this article will walk you through the process of creating multiple accounts."),(0,o.kt)("p",null,"As shown in the figure, click the circular pattern in the upper right corner and then click Create Account."),(0,o.kt)("img",{src:(0,r.Z)("img/wallet_3.png"),width:"50%"}),(0,o.kt)("p",null,"Then enter the account name (any name can be used) in the window."),(0,o.kt)("h3",{id:"integration"},"Integration"),(0,o.kt)("h4",{id:"configure-web3"},"Configure Web3"),(0,o.kt)("p",null,"Install web3 in your dApp:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npm install --save web3\n")),(0,o.kt)("p",null,"Create a new file named web3.js, and enter the following code:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import Web3 from 'web3';\n\nconst getWeb3 = () => new Promise((resolve) => {\n window.addEventListener('load', () => {\n   let currentWeb3;\n\n   if (window.ethereum) {\n     currentWeb3 = new Web3(window.ethereum);\n     try {\n       // Request account access if needed\n       window.ethereum.enable();\n       // Acccounts now exposed\n       resolve(currentWeb3);\n     } catch (error) {\n       // User denied account access...\n       alert('Please allow access for the app to work');\n     }\n   } else if (window.web3) {\n     window.web3 = new Web3(web3.currentProvider);\n     // Acccounts always exposed\n     resolve(currentWeb3);\n   } else {\n     console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');\n   }\n });\n});\n\nexport default getWeb3;\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"getWeb3")," function of exports is used in the above code to request access to the MetaMask account by detecting the MetaMask-injected global object (Ethereum or web3)."),(0,o.kt)("p",null,"The MetaMask document is described as follows:"),(0,o.kt)("p",null,"MetaMask injects a global API into websites visited by its users at window.ethereum (Also available at window.web3.currentProvider for legacy reasons). This API allows websites to request user login, load data from blockchains the user has a connection to, and suggest the user sign messages and transactions. You can use this API to detect the user of a web3 browser."),(0,o.kt)("p",null,"Then import the file into the client code:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import getWeb3 from '/path/to/web3';\n")),(0,o.kt)("p",null,"And call the following function:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"  getWeb3()\n    .then((result) => {\n       this.web3 = result;\n    });\n")),(0,o.kt)("h4",{id:"setup-accounts"},"Setup Accounts"),(0,o.kt)("p",null,"When sending non-query transactions, a signer account (private key) is required."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"  this.web3.eth.getAccounts()\n  .then((accounts) => {\n    this.account = accounts[0];\n  })\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"getAccounts()")," returns a list of all the accounts on the user's MetaMask, with ",(0,o.kt)("inlineCode",{parentName:"p"},"accounts[0]")," being the first one."),(0,o.kt)("h4",{id:"instantiate-contract"},"Instantiate Contract"),(0,o.kt)("p",null,"After creating a web3 object, we need to instantiate the contract, which requires the contract's ABI and address."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const myContractInstance = new this.web3.eth.Contract(myContractAbi, myContractAddress)\n")),(0,o.kt)("h4",{id:"call-contract"},"Call Contract"),(0,o.kt)("p",null,"Now that the contract object has been instantiated, we can call contract methods."),(0,o.kt)("p",null,"The send() method is used to modify the state of the chain, and the call() method is used as queries."),(0,o.kt)("h5",{id:"call-the-function-call"},"Call the function call()"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"  this.myContractInstance.methods.myMethod(myParams)\n  .call()\n  .then (\n    // do stuff with returned values\n  )\n")),(0,o.kt)("h5",{id:"call-the-function-send"},"Call the function send()"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"  this.myContractInstance.methods.myMethod(myParams)\n  .send({\n    from: this.account,gasPrice: 0\n  })\n  .then (\n    (receipt) => {\n      // returns a transaction receipt}\n    )\n")))}p.isMDXComponent=!0}}]);